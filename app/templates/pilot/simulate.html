{% block scripts %}
<script id="simulation-data" type="application/json">
    {
        "pathData": {{ flight.path_data | safe }},
        "maxAlt": {{ flight.max_altitude }},
        "droneColor": "#00d4ff"
    }
</script>

<script>
    try {
        const dataElement = document.getElementById('simulation-data');
        window.flightConfig = JSON.parse(dataElement.textContent);
    } catch (e) {
        console.error("Error parsing flight data:", e);
    }
</script>

<script src="{{ url_for('static', filename='js/simulation.js') }}"></script>
{% endblock %}